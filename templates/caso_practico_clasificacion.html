{% extends "base.html" %}
{% block content %}

<div class="hero-title text-center mb-4">
<h2>Caso Práctico: Detección de Spam (Naive Bayes)</h2>
</div>
  
<div class="card p-3 my-3">
  <h4>Exactitud: {{ metrics.accuracy }}</h4>
  <img src="{{ url_for('static', filename='confusion_spam.png') }}" class="img-fluid">
</div>

<form method="post" class="row g-3">
<div class="form-grid">
  <div class="nose">
    <label for="gratis">freq_gratis</label>
    <input type="text" id="gratis">
  </div>
  
  <div class="nose">
    <label for="promo">freq_promocion</label>
    <input type="text" id="promo">
  </div>
  
  <div class="nose">
    <label for="urgente">freq_urgente</label>
    <input type="text" id="urgente">
  </div>
  
  <div class="nose">
    <label for="link">tiene_link</label>
    <input type="text" id="link">
  </div>
  
  <div class="nose">
    <label for="remitente">remitente_conocido</label>
    <input type="text" id="remitente">
  </div>
  
  <div class="nose">
    <label for="adjuntos">num_adjuntos</label>
    <input type="text" id="adjuntos">
  </div>
</div>

<div class="form-extra">
  <div class="nose">
    <label for="threshold">Threshold (0-1)</label>
    <input type="text" id="threshold" value="0.5">
  </div>
  <button type="submit">Predecir</button>
</div>
</form>

{% if prediction %}
<hr>
<h3>Predicción: {{ prediction.label }}</h3>
<p>Probabilidad de Spam: {{ prediction.prob }}</p>
<p>Threshold usado: {{ prediction.threshold }}</p>
{% endif %}
{% endblock %}
